<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <meta name="author" content="Dr.&nbsp;Kam Tin Seong Assoc. Professor of Information Systems(Practice)">
  <meta name="dcterms.date" content="2025-08-15">
  <title>ISSS626 – Lesson 1: Fundamental of Geospatial Data Models and Modelling</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-f563837468303362081e247dddd440d0.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Lesson 1: Fundamental of Geospatial Data Models and Modelling</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;Kam Tin Seong<br>Assoc. Professor of Information Systems(Practice) 
</div>
        <p class="quarto-title-affiliation">
            School of Computing and Information Systems,<br>Singapore Management University
          </p>
    </div>
</div>

  <p class="date">15 Aug 2025</p>
</section>
<section id="content" class="slide level2">
<h2>Content</h2>
<ul>
<li><p>An Overview of Geospatial Data Models</p>
<ul>
<li>Vector and raster data model</li>
<li>Coordinate systems and map projection</li>
</ul></li>
<li><p>Vector Data Wrangling and Analysis Methods</p></li>
<li><p>Raster Data Wrangling and Analysis Methods</p></li>
</ul>
<aside class="notes">
<p>This lesson consists of two parts. First, I will talk about Geospatial Data Models. For students who have taken SMT201 GIS for Urban Planning, this is not new at all. However, for students who did not read SMT201, this will be new. Anyway, the focus of this section will be on R. Hence, even for students who have taken SMT201 before, this will be a good revision.</p>
<p>In part two of this lesson, I will introduce sp package. It is a relatively new R package specially developed to handle geospatial data R using tidyverse principle.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="geospatial-data-models" class="slide level2">
<h2>Geospatial Data Models</h2>
<h3 id="why-should-we-worry-about">Why should we worry about?</h3>

<img data-src="img/image2-1.jpg" class="r-stretch"><aside class="notes">
<p>It is important for us to note that what ever data capture in a database is a model of the real world. When we say model, this means that it is a simplify version of the real world and not the real world themselves.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="basic-spatial-data-models" class="slide level2">
<h2>Basic Spatial Data Models</h2>
<ul>
<li>Vector - implementation of discrete object conceptual model
<ul>
<li>Point, line and polygon representations.</li>
<li>Widely used in cartography, and network analysis.</li>
</ul></li>
<li>Raster – implementation of field conceptual model
<ul>
<li>Array of cells used to represent objects.</li>
<li>Useful as background maps and for spatial analysis.</li>
</ul></li>
</ul>
<aside class="notes">
<p>In general, there are two types of geospatial data models, namely vector and raster data models.</p>
<p>Vector data model tends to be used to store geospatial data that are discrete in nature. For example bus stop, building footprint, planning area.</p>
<p>Raster data model, one the other hands, are used to store continuous fenomena such as air polution, elevation and precipitation.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="vector-data-models">Vector Data Models</h3>
<ul>
<li>There are three basic geometric primitives, namely: <strong>points</strong>, <strong>lines (or polylines)</strong> and <strong>polygons</strong>.</li>
</ul>

<img data-src="img/image2-2.jpg" class="r-stretch"><aside class="notes">
<p>For vector data model, there are three most commonly used geometric primitives, namely: points, lines and polygons.</p>
<p>In this figure, building footprints are represented by polygon features, road reserves represented by polyline features, and convenient stores are represented by point features.</p>
<p>It it important to note that the geospatial information content of these three features are not the same.</p>
<ul>
<li>A point is composed of one coordinate pair representing a specific location in a coordinate system.</li>
<li>A line or polyline is composed of a sequence of two or more coordinate pairs called vertices. For line beside the location information we also know the length.</li>
<li>A polygon is composed of three or more line segments whose starting and ending coordinate pairs are the same. For polygon, we know location, length (i.e.&nbsp;parameter) and area.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="raster-data-models">Raster Data Models</h3>
<ul>
<li>All raster formats are basically the same
<ul>
<li>Cells organized in a matrix of rows and columns.</li>
<li>Content is more important than format: data or picture?</li>
</ul></li>
</ul>

<img data-src="img/image2-3.jpg" class="r-stretch"><aside class="notes">
<p>Different from vector data model, a single feature type is used to represent the real world. The most commonly used geometric is grid. Also note that in raster data model, the observed values (i.e.&nbsp;precipitation) are encoded explicitly on the cells. In general a value between 0-255 (binary data strcuture) is used. If the value is greater than 255, streching will be applied.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="coordinate-systems-and-map-projections" class="slide level2">
<h2>Coordinate Systems and Map Projections</h2>
<h3 id="what-is-a-coordinate-system">What is a coordinate system?</h3>
<div class="columns">
<div class="column" style="width:50%;">
<p>A coordinate system is an important property of an geospatial data. It provides a location reference to the geospatial data.</p>
<ul>
<li>There are two common types of coordinate systems used in mapping, namely: <strong>geographic coordinate systems</strong> and <strong>projected coordinate system</strong>.</li>
</ul>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Further Reading</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Refer to this <a href="http://en.wikipedia.org/wiki/Map_projection">article</a> and <a href="https://mgimond.github.io/Spatial/chp09_0.html">Chapter 9 Coordinate Systems</a> to learn more about map projection.</li>
</ul>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="img/image2-4a.jpg"></p>
</div></div>
<aside class="notes">
<ul>
<li><p>A coordinate system is a reference system used to represent the locations of geographic features, imagery, and observations such as GPS locations within a common geographic framework.</p></li>
<li><p>Each coordinate system is defined by:</p>
<ul>
<li>Its measurement framework which is either geographic (in which spherical coordinates are measured from the earth’s center) or planimetric (in which the earth’s coordinates are projected onto a two-dimensional planar surface).</li>
<li>Unit of measurement (typically feet or meters for projected coordinate systems or decimal degrees for latitude–longitude).</li>
<li>The definition of the map projection for projected coordinate systems.</li>
<li>Other measurement system properties such as a spheroid of reference, a datum, and projection parameters like one or more standard parallels, a central meridian, and possible shifts in the x- and y-directions.</li>
</ul></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="geographical-coordinate-systems">Geographical Coordinate Systems</h3>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>GCS define locations on the earth using a three-dimensional spherical surface. For example, WGS84.</p></li>
<li><p>They provides accuracy position information. Unit of measurement will be in either decimal degree or degree-minute-second format.</p></li>
<li><p>GCS, however, are not appropriate for distance and area measurements. In this figure, it is clear that 1 degree distance at the north pole is relatively shorter than 1 degree at the equator.</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/image2-4.jpg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Further Reading</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Refer to <a href="https://mgimond.github.io/Spatial/chp09_0.html#geographic-coordinate-systems">9.1 Geographic Coordinate Systems</a> to learn more about GCS.</li>
</ul>
</div>
</div>
</div>
</div></div>
</section>
<section class="slide level2">

<h3 id="projected-coordinate-systems-pcs">Projected Coordinate Systems (PCS)</h3>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Based on a map projection such as transverse Mercator, Albers equal area, or Robinson.</p></li>
<li><p>PCS provides consistent length and area measurement across space. Hence, it is important to transform a geospatial data from GCS to PCS before performing geospatial analysis.</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/image2-5.jpg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Further Reading</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Refer to <a href="https://mgimond.github.io/Spatial/chp09_0.html#projected-coordinate-systems">9.2 Projected Coordinate Systems</a> to learn more about GCS.</li>
</ul>
</div>
</div>
</div>
</div></div>
<aside class="notes">
<p>A <strong>projected coordinate system</strong> based on a map projection such as transverse Mercator, Albers equal area, or Robinson, all of which (along with numerous other map projection models) provide various mechanisms to project maps of the earth’s spherical surface onto a two-dimensional Cartesian coordinate plane.</p>
<p>Projected coordinate systems are sometimes referred to as <strong>map projections</strong>. For example, SVY21, the national projected coordinate system of Singapore.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="singapore-projected-coordinate-system">Singapore Projected Coordinate System</h3>

<img data-src="img/image2-6.jpg" class="quarto-figure quarto-figure-center r-stretch" width="640"><p><a href="https://epsg.io/">epsg.io</a> provides a comprehensive list of country coordinate systems such as <a href="https://epsg.io/3414">svy21</a>.</p>
<aside class="notes">
<p>Each country will have her own projected coordinate system. Some country have more than one type of Project Coordinate Systems.</p>
<p>There are at least three coordinate systems commonly used in Singapore. They are svy21, Kertau Cassini 1968, and Rectified Skewed Orthomorphic (RSO). RSO is used in military and topographical mapping and svy21 is used for land and engineering surveying, cadastre, landuse and infrastructure mapping.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="coordinates-reference-systems-in-r">Coordinates Reference Systems in R</h3>
<ul>
<li>In R, the notation used to describe the CRS is <strong>proj4string</strong> from the <strong>PROJ.4</strong> library. It looks like this:</li>
</ul>
<blockquote>
<p>+proj=tmerc +lat_0=1.366666666666667 +lon_0=103.8333333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +units=m +no_defs</p>
</blockquote>
<ul>
<li>This library is interfaced with R in the <a href="http://rgdal.r-forge.r-project.org/"><strong>rgdal</strong></a> package, and the CRS class is defined partly in <strong>sp</strong>, partly in <strong>rgdal</strong>.</li>
<li>A <strong>CRS</strong> object is defined as a character NA string or a valid PROJ.4 CRS definition.</li>
</ul>
<aside class="notes">
<p>You can break down the proj4 string into its individual components (again, separated by + signs) as follows:</p>
<ul>
<li>+proj=tmerc: the projection is Transverse Mercator</li>
<li>+lat_0: Latitude of origin</li>
<li>+lon_0: Central meridian</li>
<li>+k: Scaling factor</li>
<li>+x_0: False easting</li>
<li>+y_0: False northing</li>
<li>+units=m: the units for the coordinates are in METERS</li>
<li>+ellps=WGS84: the ellipsoid (how the earth’s roundness is calculated) for the data is WGS84</li>
<li>The EPSG list among other sources is used in the workhorse PROJ.4 library, which as implemented by Frank Warmerdam handles transformation of spatial positions between different CRS.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="standard-for-geospatial-data-handling-and-analysis" class="slide level2">
<h2>Standard for Geospatial Data Handling and Analysis</h2>

<img data-src="img/image2-20.jpg" class="r-stretch"><div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Further Reading</strong></p>
</div>
<div class="callout-content">
<p>For more information, visit this <a href="https://www.ogc.org/standards/sfa#overview">link</a>.</p>
</div>
</div>
</div>
<aside class="notes">
<p>The OGC OpenGIS Implementation Standard for Geographic Information / ISO 19125 defines:</p>
<ul>
<li><strong>Geometric objects</strong> which can be of type point, line, polygon, multi-point, etc, and are associated to a given Coordinate Reference System;</li>
<li><strong>Methods on geometric objects</strong> return properties like dimension, boundary, area, centroid, etc;</li>
<li><strong>Methods for testing spatial relations between geometric objects</strong> equals, disjoint, intersects, touches, crosses, within, contains, overlaps and relate, which returns TRUE or FALSE;</li>
<li><strong>Methods that support spatial analysis</strong> distance, which returns a distance, and buffer, convex hull, intersection, union, difference, and symmetric difference, which returns new geometric objects.</li>
</ul>
<p>Source: www.opengeospatial.org/standards/sfa</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="an-introduction-to-simple-features" class="slide level2">
<h2>An introduction to simple features</h2>
<ul>
<li><p><strong>feature</strong>: abstraction of real world phenomena (type or instance); has a geometry and other attributes (properties)</p></li>
<li><p><strong>simple feature</strong>: feature with all geometric attributes described piecewise by straight line or planar interpolation between sets of points (no curves)</p></li>
<li><p>It is a hierarchical data model that simplifies geographic data by condensing a complex range of geographic forms into a single geometry class.</p></li>
</ul>
</section>
<section class="slide level2">

<h3 id="simple-features-specification">Simple features specification</h3>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Simple_Features"><em>Simple features specification</em></a> is an open standard developed and endorsed by the Open Geospatial Consortium (OGC) to represent a wide range of geographic information.</li>
</ul>

<img data-src="img/image2-8.jpg" class="quarto-figure quarto-figure-center r-stretch"><aside class="notes">
<p>There are a total of 17 geometric types in OGC Simple Features specification. They are:</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="commonly-used-simple-features">Commonly used simple features</h3>

<img data-src="img/image2-9.jpg" class="quarto-figure quarto-figure-center r-stretch"><aside class="notes">
<p>Only 7 out of 17 possible types of simple feature are currently used in the vast majority of GIS operations. They are:</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="simple-features-how-they-look-like">Simple Features: How they look like?</h3>

<img data-src="img/image2-11.jpg" class="r-stretch"></section>
<section class="slide level2">

<h3 id="simple-features-how-they-look-like-1">Simple Features: How they look like?</h3>

<img data-src="img/image2-12.jpg" class="r-stretch"></section>
<section class="slide level2">

<h3 id="simple-features-how-they-look-like-2">Simple Features: How they look like?</h3>
<ul>
<li>Geometry collection: <span style="font-family: Courier New; font-size: 0.85em">GEOMETRYCOLLECTION (MULTIPOINT (5 2, 1 3, 3 4, 3 2), LINESTRING (1 5, 4 4, 4 1, 2 2, 3 2))</span></li>
</ul>

<img data-src="img/image2-12.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="geospatial-data-object-framework" class="slide level2">
<h2>Geospatial Data Object Framework</h2>
<ul>
<li><p>To begin with, all contributed packages for handling spatial data in R had different representations of the data. This made it difficult to exchange data both within R between packages, and between R and external le formats and applications.</p></li>
<li><p>The first general package to provide classes and methods for spatial data types that was developed for R is called <a href="https://cran.r-project.org/web/packages/sp/vignettes/intro_sp.pdf"><strong>sp</strong></a>. It was first released on CRAN in 2005.</p></li>
<li><p>In late October 2016, <a href="https://journal.r-project.org/archive/2018/RJ-2018-009/RJ-2018-009.pdf"><strong>sf</strong></a> was first released on CRAN to provide standardised support for vector data in R.</p></li>
</ul>
</section>
<section id="r-packages-that-support-spatial-classes" class="slide level2">
<h2>R packages that support spatial classes</h2>
<p>In general, three R packages will be used to handle vector-based geospatial data in spatial classes, they are:</p>
<ul>
<li><p><a href="https://cran.r-project.org/web/packages/sp/index.html"><strong>sp</strong></a> provides classes and methods for dealing with spatial data in R.</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/rgdal/index.html"><strong>rgdal</strong></a> allows R to understand the structure of a geospatial data file by providing functions to read and convert geospatial data into easy-to-work-with R dataframes.</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/rgeos/index.html"><strong>rgeos</strong></a> implements the methods of the OGC standard.</p></li>
</ul>
</section>
<section id="introducing-sf-package" class="slide level2">
<h2>Introducing sf Package</h2>
<ul>
<li><a href="https://cran.r-project.org/web/packages/sf/index.html"><strong>sf</strong></a> package provides a syntax and data-structures which are coherent with the <a href="https://www.tidyverse.org/">tidyverse</a>.</li>
<li>A quick introduction can be found <a href="https://journal.r-project.org/archive/2018/RJ-2018-009/index.html">here</a>.</li>
<li>For more detail, visit this <a href="https://r-spatial.github.io/sf/">link</a>.</li>
</ul>

<img data-src="img/image2-10.jpg" class="r-stretch"></section>
<section class="slide level2">

<h3 id="sf-package-dependencies">sf package dependencies</h3>

<img data-src="img/image2-22.jpg" class="r-stretch"><p>Source: <a href="https://github.com/edzer/rstudio_conf">Tidy spatial data analysis</a></p>
<aside class="notes">
<p>The sf package depends on several external software components (installed along with the R package27), most importantly GDAL, GEOS and PROJ (Figure 7.3). These well-tested and popular open-source components are common to numerous open-source and commercial software for spatial analysis, such as QGIS and PostGIS.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="sf-tidyverse">sf &amp; tidyverse</h3>
<ul>
<li>sf spatial objects are data.frames (or tibbles)</li>
<li>you can always un-sf, and work with tbl_df or data.frame having an sfc list-column</li>
<li>sf methods for filter, arrange, distinct, group_by, ungroup, mutate, select have sticky geometry</li>
<li><em>st_join()</em> joins tables based on a spatial predicate</li>
<li>summarise unions geometry by group (or altogether)</li>
</ul>
<aside class="notes">
<p>Another important feature of sf package is that it is designed base on tidyverse philosophy.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="what-is-so-special-about-sf">What is so special about sf?</h3>
<ul>
<li>It builds upon the <a href="https://en.wikipedia.org/wiki/Simple_Features">simple features standard</a> (not R specific!), represents natively in R all 17 simple feature types for all dimensions (XY, XYZ, XYM, XYZM),</li>
<li>uses S3 classes: simple features are data.frame objects (or tibbles) that have a geometry list-column,</li>
<li>interfaces to GEOS to support the DE9-IM,</li>
<li>interfaces to GDAL with driver dependent dataset or layer creation options, Date and DateTime (POSIXct) columns, and coordinate reference system,</li>
<li>transformations through PROJ.4,</li>
<li>provides fast I/O with GDAL and GEOS using well-known-binary written in C++/Rcpp, and</li>
<li>directly reads from and writes to spatial databases such as PostGIS using DBI.</li>
</ul>
</section>
<section class="slide level2">

<h3 id="sfg-geometry-for-one-feature">sfg : geometry for one feature</h3>

<img data-src="img/image2-13.jpg" class="r-stretch"></section>
<section class="slide level2">

<h3 id="sf-objects-with-simple-features">sf: objects with simple features</h3>

<img data-src="img/image2-14.jpg" class="r-stretch"><aside class="notes">
<ul>
<li>In green a <strong>simple feature</strong>: a single record, or data.frame row, consisting of attributes and geometry.</li>
<li>In blue a single <strong>simple feature geometry</strong> (an object of class <strong>sfg</strong>).</li>
<li>In red a <strong>simple feature list-column</strong> (an object of class <strong>sfc</strong>, which is a column in the data.frame).</li>
</ul>
<p>One of the attributes of a geometry list-column (sfc) is the precision: a double number that, when non-zero, causes some rounding during conversion to WKB, which might help certain geometrical operations succeed that would otherwise fail due to floating point representation.</p>
<p>The model is that of GEOS, which copies from the Java Topology Suite (JTS), and works like this:</p>
<ul>
<li>if precision is zero (default, unspecified), nothing is modified.</li>
<li>negative values convert to float (4-byte real) precision.</li>
<li>positive values convert to round(x*precision)/precision.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sf-functions" class="slide level2">
<h2>sf functions</h2>
<ul>
<li><p>Geospatial data handling</p></li>
<li><p>Geometric confirmation</p></li>
<li><p>Geometric operations</p></li>
<li><p>Geometry creation</p></li>
<li><p>Geometry operations</p></li>
<li><p>Geometric measurement</p></li>
</ul>
</section>
<section class="slide level2">

<h3 id="geospatial-data-handling-functions">Geospatial data handling functions</h3>
<ul>
<li><a href="https://r-spatial.github.io/sf/reference/st_read.html"><em>st_read</em></a> &amp; <em>read_sf</em>: read simple features from file or database, or retrieve layer names and their geometry type(s)</li>
<li><a href="https://r-spatial.github.io/sf/reference/st_write.html"><em>st_write</em></a> &amp; <em>write_sf</em>: write simple features object to file or database</li>
<li><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html"><em>st_as_sf</em></a>: convert a sf object from a non-geospatial tabular data frame</li>
<li><a href="https://r-spatial.github.io/sf/reference/st_as_text.html"><em>st_as_text</em></a>: convert to Well Known Text(WKT)</li>
<li><a href="https://r-spatial.github.io/sf/reference/st_as_binary.html"><em>st_as_binary</em></a>: convert to Well Known Binary(WKB)</li>
<li><a href="https://r-spatial.github.io/sf/reference/st_as_sfc.html"><em>st_as_sfc</em></a>: convert geometries to sfc (e.g., from WKT, WKB) as(x, “Spatial”): convert to Spatial*</li>
<li><a href="https://r-spatial.github.io/sf/reference/st_transform.html"><em>st_transform</em></a>(x, crs, …): convert coordinates of x to a different coordinate reference system</li>
</ul>
</section>
<section class="slide level2">

<h3 id="popular-geospatial-data-format-supported-by-read_st-esri-shapefile">Popular geospatial data format supported by <em>read_st()</em>: ESRI shapefile</h3>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>A <a href="http://www.esri.com/library/whitepapers/pdfs/shapefile.pdf">shapefile</a> is a simple, non-topological format for storing the geometric location and attribute information of geographic features.</li>
<li>Geographic features in a shapefile can be represented by points, lines, or polygons (areas).</li>
</ul>
<p>Sample code chunk:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a>sf_mpsz <span class="ot">=</span> <span class="fu">st_read</span>(<span class="at">dsn =</span> <span class="st">"data/geospatial"</span>, </span>
<span id="cb1-2"><a></a>                  <span class="at">layer =</span> <span class="st">"MP14_SUBZONE"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>and</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="fu">st_write</span>(st_poly, <span class="st">"data/my_poly.shp"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="img/image2-7.jpg"></p>
</div></div>
</section>
<section class="slide level2">

<h3 id="other-vector-gis-formats">Other vector GIS formats</h3>
<ul>
<li>MapInfo <a href="https://en.wikipedia.org/wiki/MapInfo_TAB_format">TAB</a> format - MapInfo’s vector data format using TAB, DAT, ID and MAP files.</li>
<li><a href="https://desktop.arcgis.com/en/arcmap/latest/manage-data/administer-file-gdbs/personal-geodatabases.htm">Personal Geodatabase</a> - Esri’s closed, integrated vector data storage strategy using Microsoft’s Access MDB format</li>
<li><a href="https://en.wikipedia.org/wiki/Keyhole_Markup_Language">Keyhole Markup Language (KML)</a> - XML based open standard (by OpenGIS) for GIS data exchange.</li>
<li><a href="http://en.wikipedia.org/wiki/Geography_Markup_Language">Geography Markup Language (GML)</a> - XML based open standard (by OpenGIS) for GIS data exchange.</li>
<li><a href="https://en.wikipedia.org/wiki/GeoJSON">GeoJSON</a> - a lightweight format based on JSON, used by many open source GIS packages.</li>
<li><a href="https://github.com/topojson/topojson">TopoJSON</a>, an extension of GeoJSON that encodes topology.</li>
</ul>
<p>Sample code chunk to import kml file:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a>sf_preschool <span class="ot">=</span> <span class="fu">st_read</span>(<span class="st">"data/geospatial/pre-schools-location-kml.kml"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<h3 id="geometric-confirmation">Geometric confirmation</h3>
<p>The <a href="https://r-spatial.github.io/sf/reference/geos_binary_pred.html">commands</a> below compare two sf data object and return a sparse matrix with matching (TRUE) indexes, or a full logical matrix.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div style="font-size: 0.75em">
<ul>
<li><em>st_intersects</em>: touch or overlap</li>
<li><em>st_disjoint</em>: !intersects</li>
<li><em>st_touches</em>: touch</li>
<li><em>st_crosses</em>: cross (don’t touch)</li>
<li><em>st_within</em>: within</li>
<li><em>st_contains</em>: contains</li>
<li><em>st_overlaps</em>: overlaps</li>
<li><em>st_covers</em>: cover</li>
<li><em>st_covered_by</em>: covered by</li>
<li><em>st_equals</em>: equals</li>
<li><em>st_equals_exact</em>: equals, with some fuzz returns a sparse (default) or dense logical matrix</li>
</ul>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="img/image2-15.jpg"></p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<div style="font-size: 0.95em">
<p>These functions return a logical matrix indicating whether each geometry pair meeting the logical operation.</p>
</div>
</div>
</div>
</div>
</div></div>
</section>
<section class="slide level2">

<h3 id="sf-methods">sf Methods</h3>
<h4 id="geometry-generating-logical-operators">Geometry generating logical operators</h4>
<div class="columns">
<p>These <a href="https://r-spatial.github.io/sf/reference/geos_binary_ops.html">commands</a> overlay two sf data frames.</p><div class="column" style="width:50%;">
<ul>
<li>st_union: union of several geometries</li>
<li>st_intersection: intersection of pairs of geometries</li>
<li>st_difference: difference between pairs of geometries</li>
<li>st_sym_difference: symmetric difference (xor)</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="img/image2-18.jpg"></p>
</div></div>
</section>
<section class="slide level2">

<h3 id="sf-methods-1">sf Methods</h3>
<h4 id="higher-level-operations-summarise-interpolate-aggregate-st_join">Higher-level operations: summarise, interpolate, aggregate, st_join</h4>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>aggregate and summarise use <em>st_union</em> (by default) to group feature geometries</li>
<li><em>st_interpolate_aw</em>: area-weighted interpolation, uses st_intersection to interpolate or redistribute attribute values, based on area of overlap:</li>
<li><em>st_join</em> uses one of the logical binary geometry predicates (default: st_intersects) to join records in table pairs.</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a>rd_joined <span class="ot">=</span> <span class="fu">st_join</span>(random_points, world) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/image2-21.jpg" class="quarto-figure quarto-figure-center" width="441"></p>
</figure>
</div>
</div></div>
</section>
<section class="slide level2">

<h3 id="manipulating-geometries">Manipulating geometries</h3>
<p>The <a href="https://r-spatial.github.io/sf/reference/geos_unary.html">commands</a> below perform unary operations on simple feature geometry sets.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div style="font-size: 0.75em">
<ul>
<li><em>st_line_merge</em>: merges lines</li>
<li><em>st_segmentize</em>: adds points to straight lines</li>
<li><em>st_voronoi</em>: creates voronoi tesselation</li>
<li><em>st_centroid</em>: gives centroid of geometry</li>
<li><em>st_convex_hull</em>: creates convex hull of set of points</li>
<li><em>st_triangulate</em>: triangulates set of points (not constrained)</li>
<li><em>st_polygonize</em>: creates polygon from lines that form a closed ring</li>
<li><em>st_simplify</em>: simplifies lines by removing vertices</li>
<li><em>st_split</em>: split a polygon given line geometry</li>
<li><em>st_buffer</em>: compute a buffer around this geometry/each geometry</li>
<li><em>st_make_valid</em>: tries to make an invalid geometry valid (requires lwgeom)</li>
<li><em>st_boundary</em>: return the boundary of a geometry</li>
</ul>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a>centroid_poly <span class="ot">&lt;-</span> <span class="fu">st_centroid</span>(poly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/image2-16.jpg" class="quarto-figure quarto-figure-center" width="300"></p>
</figure>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a>buf_poly <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(poly, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/image2-17.jpg" class="quarto-figure quarto-figure-center" width="300"></p>
</figure>
</div>
</div></div>
</section>
<section class="slide level2">

<h3 id="convenience-functions">Convenience functions</h3>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><em>st_zm</em>: sets or removes z and/or m geometry</li>
<li><em>st_coordinates</em>: retrieve coordinates in a matrix or data.frame</li>
<li><em>st_geometry</em>: set, or retrieve sfc from an sf object</li>
<li><em>st_is</em>: check whether geometry is of a particular type</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="img/image2-19.jpg"></p>
</div></div>
</section>
<section id="references" class="slide level2">
<h2>References</h2>
<h3 id="all-about-sf-package">All About <strong>sf</strong> package</h3>
<div style="font-size: 0.75em">
<ul>
<li><a href="https://r-spatial.github.io/sf/reference/index.html">Reference manual</a></li>
<li><a href="https://www.rstudio.com/resources/rstudioconf-2018/tidy-spatial-data-analysis/">Tidy spatial data analysis</a></li>
</ul>
<p><strong>Vignettes:</strong></p>
<ol type="1">
<li><a href="https://cran.r-project.org/web/packages/sf/vignettes/sf1.html">Simple Features for R</a></li>
<li><a href="https://cran.r-project.org/web/packages/sf/vignettes/sf2.html">Reading, Writing and Converting Simple Features</a></li>
<li><a href="https://cran.r-project.org/web/packages/sf/vignettes/sf3.html">Manipulating Simple Feature Geometries</a></li>
<li><a href="https://cran.r-project.org/web/packages/sf/vignettes/sf4.html">Manipulating Simple Features</a></li>
<li><a href="https://cran.r-project.org/web/packages/sf/vignettes/sf5.html">Plotting Simple Features</a></li>
<li><a href="https://cran.r-project.org/web/packages/sf/vignettes/sf6.html">Miscellaneous</a></li>
<li><a href="https://r-spatial.github.io/sf/articles/sf7.html">Spherical geometry in sf using s2geometry</a></li>
</ol>
<p><strong>Others:</strong></p>
<ol type="1">
<li><a href="https://www.r-spatial.org/r/2020/03/17/wkt.html">R spatial follows GDAL and PROJ development</a></li>
</ol>
</div>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>